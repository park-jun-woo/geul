# GEUL 의미정렬 식별자 명세서

## **1. 개요 (Abstract)**

본 문서는 GEUL(General Embedding Unified Language) 아키텍처의 모든 개체(`글오`)를 고유하게 식별하고, 그 자체로 압축된 지식의 역할을 수행하는 **32바이트(256비트) 의미정렬 식별자 **의 물리적 구조와 해석 규칙을 정의한다. 이 식별자는 단순한 주소값을 넘어, WMS의 초고속 탐색, 시스템의 장기적 생존력, 그리고 '우아한 열화'라는 GEUL의 핵심 철학을 데이터의 가장 근본적인 수준에서 구현하기 위해 설계되었다. 본 명세는 GEUL 생태계에 참여하는 모든 시스템이 반드시 준수해야 할 표준이다.

## **2. 핵심 설계 원칙**

* **자기 기술성 (Self-Descriptiveness):** 식별자는 외부 문서나 드라이버 없이도 자신의 구조와 의미를 스스로 설명할 수 있어야 한다.
* **초고속 필터링 (High-speed Filtering):** 64비트 컴퓨팅 아키텍처에 완벽하게 정렬된 헤더를 통해, WMS가 최소한의 연산으로 수십억 개의 데이터를 필터링할 수 있도록 설계되었다.
* **정보 밀도 극대화 (Maximal Density):** 모든 비트는 낭비 없이 특정 목적을 가지며, 특히 절대식별자의 경우 정보 저장 공간을 100% 활용한다.
* **미래 보장성 (Future-proof):** 스키마 버전 관리와 확장 가능한 임의식별자 체계를 통해, GEUL 생태계가 수십 년 이상 진화하고 성장할 수 있는 기반을 제공한다.

## **3. 32바이트 식별자 구조**

의미정렬 식별자 v1.0은 총 256비트로 구성되며, 64비트(8바이트)의 **헤더(Header)**와 192비트(24바이트)의 **가변 영역(Variable Area)**으로 나뉜다.

### **3.1. 64비트 헤더 (Header)**

WMS의 1차 고속 필터링을 위해 사용되는 핵심 영역이다.

| 영역 | 크기 (비트) | 누적 (비트)| 역할 |
| :--- | :--- | :--- | :--- |
| **스키마 버전** | **1** | 1 | 식별자 구조의 버전을 명시한다. `0`=v1.0, `1`=확장 스키마. (확장 시 다음 4비트를 추가 버전 번호로 사용) |
| **식별자 타입** | **2** | 3 | 뒤따르는 253비트 전체의 해석 규칙을 결정하는 **핵심 제어 스위치**. |
| **템플릿 정의부**| **61** | 64 | 61개의 최상위 이진 속성으로, 1차 필터링의 조건이자 가변 영역을 해석하는 **'압축된 드라이버'** 역할을 한다. |

### **3.2. 192비트 가변/임의 영역 (Variable/Arbitrary Area)**

헤더의 **`식별자 타입` (2비트)** 값에 따라 그 역할이 동적으로 결정된다.

* **`00` (절대식별자):**
    * 192비트 전체가 **'가변 속성 영역'**으로 사용된다. `템플릿 정의부`에 의해 그 의미가 결정되는, 고밀도 정보 저장소이다.
    * **설계 의도:** WMS에 저장될 99.9% 이상의 데이터를 위해 단 1비트의 공간도 낭비하지 않는다.

* **`01` (소형 임의식별자):**
    * 앞의 **160비트**는 '가변 속성 영역'으로 사용된다.
    * 뒤의 **32비트**는 '임의식별자'를 위한 ID 공간으로 사용된다. (약 42억 개)
    * **설계 의도:** 대부분의 `글아(GEUL-Agent)`가 사용하는 일반적인 임시 ID를 위한 효율적인 공간 할당이다.

* **`10` (대형 임의식별자):**
    * 앞의 **128비트**는 '가변 속성 영역'으로 사용된다.
    * 뒤의 **64비트**는 '임의식별자'를 위한 ID 공간으로 사용된다.
    * **설계 의도:** 대규모 분산 작업 등 거대한 ID 공간이 필요한 특수 목적을 위한 옵션이다.

* **`11` (확장 임의식별자):**
    * 192비트 전체가 **'가변 속성 영역'**으로 사용된다.
    * 임의식별자 자체는 32바이트 식별자 **외부에** 별도의 `글소` 패킷으로 정의된다.
    * **설계 의도:** 32바이트라는 물리적 한계를 넘어서는 궁극의 확장성을 보장한다.

## **4. WMS에서의 해석 절차**

GEUL 데이터를 처리하는 파서는 다음 절차를 따른다.

1.  **1단계 (헤더 필터링):** WMS는 항상 각 식별자의 **첫 8바이트(64비트)만** 읽어 1차 필터링을 수행한다. 이 단계에서는 `스키마 버전`, `식별자 타입`, 그리고 쿼리와 관련된 `템플릿 정의부`의 비트 패턴을 비교하여 후보군을 압축한다.
2.  **2단계 (전체 해석):** 1단계에서 살아남은 소수의 후보군에 대해서만 전체 32바이트 식별자를 읽는다. 파서는 헤더의 `식별자 타입` 값(00, 01, 10, 11)을 확인하고, 그 규칙에 따라 나머지 192비트 영역을 '가변 속성' 또는 '임의 ID'로 정확하게 해석한다.

이 2단계 접근법은 가장 빈번한 검색 연산의 성능을 하드웨어 수준에서 최적화하는 동시에, 데이터의 종류에 따라 공간을 가장 효율적으로 사용하는 유연성을 제공한다. 이로써 의미정렬 식별자 v1.0은 GEUL 아키텍처의 견고한 초석으로서의 역할을 수행한다.