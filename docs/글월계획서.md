# 글월 v0.1 계획서

**프로젝트명:** 글월 (GEUL WORLD)  
**버전:** 0.1 (MVP)  
**작성일:** 2024-12-04  
**개발 기간:** 3개월 (혼자 + AI)  
**목표:** 작가를 위한 세계관 관리 도구

---

## 목차

1. [프로젝트 개요](#1-프로젝트-개요)
2. [핵심 구성요소](#2-핵심-구성요소)
3. [개발 일정](#3-개발-일정)
4. [기술 명세](#4-기술-명세)
5. [사용 시나리오](#5-사용-시나리오)
6. [성공 지표](#6-성공-지표)

---

## 1. 프로젝트 개요

### 1.1 비전

```
"작가가 설정을 잊어버리지 않는 세상"

문제:
- 장편 소설 쓸 때 설정 꼬임
- "이 캐릭터 나이가 몇이었지?"
- "이 사건이 먼저였나 나중이었나?"
- 관계도 복잡해지면 헷갈림

해결:
- 모든 설정을 그래프로 관리
- 시간 순서 자동 정리
- 모순 자동 검증
- GPT 연동 (향후)
```

### 1.2 목표

```
3개월 목표:
✅ 내가 실제로 소설 쓸 때 사용
✅ GEUL 표준 확립 (데이터 포맷)
✅ 기본 UI 완성
✅ 케이스 스터디 1개

6개월 목표:
✅ 작가 10명 베타 테스트
✅ 웹 서비스 공개
✅ 판매 준비

12개월 목표:
✅ 작가 100명 유료 전환
✅ 커뮤니티 형성
```

### 1.3 MVP 범위

```
포함:
✅ 엔티티 관리 (인물, 장소, 조직...)
✅ 이벤트 기록 (6하원칙)
✅ 관계 정의 (친구, 적, 가족...)
✅ 타임라인 관리
✅ 기본 검색
✅ 파일 저장/로드

제외 (v0.2 이후):
❌ 관계 그래프 시각화
❌ GPT 통합
❌ 멀티 유저
❌ 클라우드 동기화
❌ 모바일 앱
```

---

## 2. 핵심 구성요소

### 2.1 GEUL (심볼릭 언어)

**역할:** 데이터 표준 포맷

```
목적:
- 모든 데이터를 구조화된 형태로 저장
- 나중에 GPT 입력 가능
- 언어 무관 (한국어/영어 동일)

특징:
- 16-bit 워드 기반
- TypeId 명시적
- TID 압축 (참조 효율)
- 검증 가능

완성도: 99% (표준 확립 필수)
```

**주요 타입:**
```
Node (개체):
- Entity: 인물, 장소, 조직, 작품...
- Context: 세계, 시점, POV
- QuantitySpec: 물리량 정의

Edge (관계):
- Triple: 3항 관계 (A-관계-B)
- Event6: 6하원칙 사건
- Relation: 단순 연결
```

### 2.2 GWMS (저장소)

**역할:** 월드 데이터 저장/조회

```
목적:
- GEUL 데이터를 파일로 저장
- 빠른 조회/수정
- 일관성 보장

특징:
- world.gwms 단일 파일
- mmap 기반 (zero-copy)
- 기본 인덱스
- 트랜잭션 (나중에)

완성도: 60% (작동만 하면 됨)
```

**핵심 API:**
```go
GetEntity(mid) → Entity
GetEdges(subj, prop) → []Edge
AddEntity(entity) → MID
AddEdge(edge) → EdgeID
Query(filter) → []MID
```

### 2.3 워드넷 동사

**역할:** 글로벌 동사 표준

```
목적:
- "사랑하다", "미워하다" 같은 동사를
  언어 무관 ID로 표현
  
- WordNet Verb Synset 활용
  love.v.01 → PropId 0x00123456
  
데이터:
- 1만 개 자주 쓰는 동사
- 한국어 레이블
- 카테고리 분류

활용:
- Triple 관계 정의
- Event6 행위 표현
```

### 2.4 글월 UI

**역할:** 편집 인터페이스

```
목적:
- 작가가 쉽게 입력/조회
- 시각적으로 관계 파악
- 점진적 개선

특징:
- 웹 기반 (localhost)
- Next.js + TailwindCSS
- 직관적 UI
- 사용하며 개선

완성도: 
- v0.1: 40% (기본 CRUD)
- v0.5: 80% (그래프, 타임라인)
```

---

## 3. 개발 일정

### 3.1 전체 타임라인

```
Month 1: GEUL + GWMS 기초
├─ Week 1-2: GEUL 스펙 확정
├─ Week 3-4: GEUL 구현 + 워드넷
└─ 결과: GEUL v1.0 완성

Month 2: UI + 통합
├─ Week 1-2: 기본 UI 구현
├─ Week 3-4: 통합 + 테스트
└─ 결과: 전체 시스템 작동

Month 3: 실전 사용 + 개선
├─ Week 1: 내 소설 월드 구축
├─ Week 2-3: 사용하며 개선
└─ Week 4: 문서화 + 공개
```

### 3.2 Month 1: 기초 (주당 30시간)

#### Week 1-2: GEUL 스펙 + GWMS 구조

**목표:** 명확한 설계 완료

```
GEUL 스펙 확정 (당신 주도, AI 보조):
□ TypeId 전체 체계 (256개 슬롯)
  ├─ Meta: 0x00__ (10개)
  ├─ Node: 0x01__ (80개)
  ├─ Edge: 0x02__ (80개)
  ├─ Primitive: 0x03__ (30개)
  └─ Reserved: 나머지
  
□ 패킷 포맷 정의
  ├─ Entity (4워드)
  ├─ Context (4워드)
  ├─ QuantitySpec (4워드)
  ├─ Triple (8워드)
  ├─ Event6 (16워드)
  └─ 커스텀 (10개)
  
□ 스펙 문서 작성
  - geul-spec-v1.md
  - 예시 20개
  - 다이어그램
  
시간 배분:
- 설계/토론: 20시간
- 문서 작성: 10시간
- AI와 검증: 10시간
```

```
GWMS 파일 포맷 정의:
□ Header 구조
  - Magic "GWMS"
  - Version
  - Section Offsets
  
□ Entity Region
  - Bucket Directory
  - SoA 레이아웃
  
□ Edge Region
  - Store Directory
  - Triple/Event6
  
□ Index Region
  - MID → Offset
  
시간 배분:
- 설계: 10시간
- 문서: 5시간
```

#### Week 3-4: GEUL 구현 + 워드넷

**목표:** GEUL 라이브러리 완성

```
GEUL Go 구현 (AI 90%, 당신 10%):
□ types.go
  - TypeId 상수
  - Word, Stream 타입
  - Packet 인터페이스
  
□ packets.go
  - EntityPacket
  - ContextPacket
  - TriplePacket
  - Event6Packet
  
□ stream.go
  - StreamBuilder
  - Encode/Decode
  
□ tidmap.go
  - TID 할당
  - MID ↔ TID 변환
  
□ validator.go
  - 패킷 검증
  - 스트림 검증
  
□ 테스트
  - 단위 테스트 (Coverage 90%+)
  - 통합 테스트
  - 벤치마크
  
시간 배분:
- AI 프롬프트/리뷰: 20시간
- 수동 수정: 10시간
- 테스트: 10시간
```

```
워드넷 동사 DB:
□ 데이터 준비
  - WordNet 다운로드
  - Verb Synset 추출 (13,767개)
  - 자주 쓰는 1만 개 선택
  
□ 한국어 매핑
  - 번역 API 활용
  - 수동 검토
  
□ DB 생성
  - SQLite 파일
  - 테이블: verbs(id, synset, en, ko, category)
  
□ 검색 API
  - SearchVerb(ko) → PropId
  - GetVerb(id) → VerbInfo
  
시간 배분:
- 데이터 처리: 15시간
- 번역/검토: 10시간
- DB 구축: 5시간
```

### 3.3 Month 2: UI + 통합 (주당 30시간)

#### Week 1-2: 기본 UI

**목표:** CRUD 가능한 최소 UI

```
GWMS 기본 구현 (AI 80%, 당신 20%):
□ file.go
  - mmap wrapper
  - 파일 열기/닫기
  
□ entity.go
  - AddEntity
  - GetEntity
  - UpdateEntity
  - DeleteEntity
  
□ edge.go
  - AddTriple
  - AddEvent6
  - GetEdges
  
□ index.go
  - MID → Offset 해시맵
  - 메모리 인덱스 (파일 저장 안 함)
  
□ query.go
  - Query(filter)
  - 간단한 필터링
  
시간 배분:
- 구현: 20시간
- 테스트: 10시간
```

```
Next.js UI (AI 70%, 당신 30%):
□ 프로젝트 셋업
  - Next.js 14 + TypeScript
  - TailwindCSS
  - shadcn/ui
  
□ 레이아웃
  - Layout (Header, Sidebar, Main)
  - 반응형 (Desktop 우선)
  
□ 엔티티 페이지
  - EntityList (사이드바)
  - EntityDetail (읽기)
  - EntityForm (추가/편집)
  
□ 이벤트 페이지
  - EventList
  - EventForm (6하원칙)
  
□ API Routes
  - /api/entities (CRUD)
  - /api/events (CRUD)
  - /api/relations
  
시간 배분:
- 셋업: 5시간
- 컴포넌트: 20시간
- API: 10시간
- 스타일링: 5시간
```

#### Week 3-4: 통합 + 테스트

**목표:** E2E 파이프라인 완성

```
통합 작업:
□ Go 서버 ↔ Next.js 연결
  - REST API 또는 gRPC
  - CORS 설정
  
□ UI → API → GWMS → GEUL
  전체 플로우 작동 확인
  
□ 파일 저장/로드
  - world.gwms 생성
  - 재시작 후 로드
  
□ 에러 처리
  - API 에러 → UI 알림
  - 검증 실패 → 메시지 표시
  
시간 배분:
- 통합: 15시간
- 디버깅: 15시간
```

```
테스트:
□ 더미 데이터 생성
  - 엔티티 100개
  - 이벤트 50개
  - 관계 200개
  
□ E2E 테스트
  - 엔티티 CRUD
  - 이벤트 CRUD
  - 검색
  
□ 성능 측정
  - GetEntity: < 10ms
  - Query: < 100ms
  - 파일 저장: < 1s
  
□ 버그 수정
  
시간 배분:
- 테스트 작성: 10시간
- 실행/수정: 10시간
```

### 3.4 Month 3: 실전 + 개선 (주당 30시간)

#### Week 1: 내 소설 월드 구축

**목표:** 실제 데이터 입력

```
"칼의노래" 월드:
□ 월드 생성
  - 이름: "칼의노래"
  - 배경: "조선 임진왜란"
  - 시대: 1592-1598
  
□ 주요 인물 (20명)
  - 이순신 (주인공)
  - 원균 (적대자)
  - 류성룡 (조력자)
  - 선조 (왕)
  - ...
  
□ 주요 사건 (30개)
  - 전쟁 발발
  - 한산대첩
  - 명량해전
  - ...
  
□ 관계 정의 (50개)
  - 이순신 → 증오 → 원균
  - 이순신 → 친구 → 류성룡
  - ...
  
□ 장소 (10곳)
  - 한산도
  - 명량
  - 여수
  - ...
  
시간 배분:
- 데이터 입력: 20시간
- 정리/검증: 10시간
```

**사용하며 발견:**
```
예상 문제:
- "검색이 불편하다"
- "관계를 한눈에 못 보겠다"
- "시간 순서가 헷갈린다"
- "입력이 반복적이다"

→ 메모 정리
→ 다음 주 개선
```

#### Week 2-3: 발견한 문제 해결

**목표:** 사용성 개선

```
우선순위 1: 검색 개선
□ 전체 검색 (이름, 설명)
□ 타입별 필터
□ 시간 범위 필터

우선순위 2: 관계 보기
□ EntityDetail에 [관계] 탭
□ 관계 리스트 표시
  - 친구: 류성룡, ...
  - 적: 원균, ...
  
우선순위 3: 타임라인
□ 간단한 연표 뷰
□ 시간 순 정렬
□ 필터링

우선순위 4: 템플릿
□ "인물 추가" 템플릿
  - 이름, 나이, 역할 미리 채워짐
  
□ "전투 사건" 템플릿
  - 6하원칙 구조 자동

시간 배분:
- 구현: 30시간
- 테스트: 15시간
```

#### Week 4: 문서화 + 공개

**목표:** 케이스 스터디 완성

```
문서 작성:
□ README.md
  - 프로젝트 소개
  - 설치 방법
  - 사용법
  
□ 사용 가이드
  - 월드 만들기
  - 엔티티 추가하기
  - 이벤트 기록하기
  - 관계 정의하기
  
□ GEUL 스펙 문서
  - TypeId 전체 목록
  - 패킷 포맷
  - 예시
  
□ API 문서
  - 엔드포인트
  - 요청/응답 형식
  
시간 배분:
- 문서 작성: 15시간
```

```
케이스 스터디:
□ 블로그 포스팅
  - "칼의노래 월드 구축기"
  - 스크린샷 10장
  - 과정 설명
  - 어려웠던 점
  - 개선된 점
  
□ 데모 영상 (선택)
  - 5분 짧은 영상
  - 기능 시연
  
□ GitHub 공개
  - 오픈소스 라이선스
  - 이슈 템플릿
  - 기여 가이드
  
시간 배분:
- 블로그: 10시간
- 영상: 5시간 (선택)
```

---

## 4. 기술 명세

### 4.1 기술 스택

```
GEUL/GWMS:
- 언어: Go 1.21+
- 테스트: testing, testify
- 벤치마크: testing.B

글월 UI:
- 프레임워크: Next.js 14 (App Router)
- 언어: TypeScript 5
- 스타일: TailwindCSS 3
- 컴포넌트: shadcn/ui
- 상태: Zustand
- API: React Query

워드넷:
- DB: SQLite 3
- 언어: Python 3.11 (전처리)
- Go 라이브러리 (런타임)

개발 도구:
- VSCode + Extensions
- Git + GitHub
- AI: Claude/ChatGPT
```

### 4.2 시스템 아키텍처

```
┌─────────────────────────┐
│   글월 UI (Next.js)      │
│   - Entity CRUD         │
│   - Event CRUD          │
│   - 검색/필터           │
└───────────┬─────────────┘
            ↓ REST API
┌─────────────────────────┐
│   API Server (Next.js)  │
│   - /api/entities       │
│   - /api/events         │
└───────────┬─────────────┘
            ↓ Go SDK
┌─────────────────────────┐
│   GWMS Core (Go)        │
│   - Storage Engine      │
│   - Query Engine        │
└───────────┬─────────────┘
            ↓ GEUL
┌─────────────────────────┐
│   world.gwms (파일)     │
│   - Entity Region       │
│   - Edge Region         │
│   - Index Region        │
└─────────────────────────┘
```

### 4.3 디렉토리 구조

```
글월/
├─ geul/                # GEUL 라이브러리
│  ├─ types.go
│  ├─ stream.go
│  ├─ packets.go
│  ├─ tidmap.go
│  ├─ validator.go
│  └─ verbs/           # 워드넷 동사
│     ├─ verbs.db
│     └─ verbs.go
│
├─ gwms/                # GWMS 엔진
│  ├─ file.go
│  ├─ entity.go
│  ├─ edge.go
│  ├─ index.go
│  └─ query.go
│
├─ ui/                  # Next.js UI
│  ├─ app/
│  │  ├─ page.tsx
│  │  ├─ entities/
│  │  ├─ events/
│  │  └─ api/
│  ├─ components/
│  │  ├─ EntityList.tsx
│  │  ├─ EntityForm.tsx
│  │  ├─ EventForm.tsx
│  │  └─ ...
│  └─ lib/
│     ├─ api.ts
│     └─ store.ts
│
├─ docs/                # 문서
│  ├─ geul-spec.md
│  ├─ gwms-spec.md
│  ├─ user-guide.md
│  └─ api-docs.md
│
├─ examples/            # 예시 데이터
│  └─ 칼의노래.gwms
│
└─ README.md
```

### 4.4 데이터 모델

#### Entity

```typescript
interface Entity {
  mid: string          // MID (64-bit hex)
  type: EntityType     // PERSON, PLACE, ORG, WORK...
  name: string         // 이름
  description?: string // 설명
  roles?: string[]     // 역할 (장군, 주인공, ...)
  metadata?: Record<string, any>
}

enum EntityType {
  PERSON = 'PERSON',
  PLACE = 'PLACE',
  ORG = 'ORG',
  WORK = 'WORK',
  EVENT = 'EVENT',
  CONTEXT = 'CONTEXT',
}
```

#### Triple (관계)

```typescript
interface Triple {
  id: string           // Edge ID
  ctx: string          // Context MID
  subj: string         // Subject MID
  prop: number         // Property ID (워드넷)
  obj: string          // Object MID
}
```

#### Event6

```typescript
interface Event6 {
  id: string           // Event ID
  name: string         // 사건 이름
  ctx: string          // Context MID
  who?: string         // 누가 (MID)
  what?: string        // 무엇을 (MID)
  whom?: string        // 누구를 (MID)
  when?: string        // 언제 (ISO datetime or MID)
  where?: string       // 어디서 (MID)
  why?: string         // 왜 (MID)
  description?: string // 설명
}
```

---

## 5. 사용 시나리오

### 5.1 Day 1: 시작하기

```
1. 앱 실행
   $ cd ui
   $ npm run dev
   → http://localhost:3000

2. 새 월드 만들기
   [새 월드] 버튼 클릭
   - 이름: "내 소설"
   - 장르: "판타지"
   [생성]
   
3. 첫 화면
   - 사이드바: 비어있음
   - 메인: "엔티티를 추가하세요"
```

### 5.2 인물 추가

```
1. [+ 새 엔티티] 클릭

2. 폼 작성
   타입: 인물
   이름: 아서
   역할: 왕, 주인공
   설명: 전설의 왕
   
3. [저장]
   → 사이드바에 "아서" 나타남
   
4. 반복
   멀린, 기네비어, 랜슬롯...
```

### 5.3 사건 기록

```
1. [+ 새 이벤트]

2. Event6 폼
   이름: 엑스칼리버 획득
   누가: 아서
   무엇을: 뽑았다
   누구를: 엑스칼리버
   언제: 500년
   어디서: 호수
   왜: 왕이 되기 위해
   
3. [저장]
```

### 5.4 관계 정의

```
1. 사이드바에서 "아서" 클릭

2. [관계] 탭

3. [+ 관계 추가]
   대상: 멀린
   관계: 스승
   시작: 490년
   
4. [+ 관계 추가]
   대상: 기네비어
   관계: 배우자
   시작: 510년
```

### 5.5 검색하기

```
1. 상단 검색창
   "멀린" 입력
   
2. 결과
   - 엔티티: 멀린 (인물)
   - 관련 이벤트: 3건
   - 관계: 아서-스승-멀린
```

### 5.6 집필하며 사용

```
시나리오:
소설 5장을 쓰다가...

"어, 아서가 엑스칼리버 뽑은 게 몇 살 때였지?"

→ 글월 열기
→ 검색: "엑스칼리버"
→ 사건 확인: 500년
→ 아서 생년: 485년
→ 계산: 15세

→ 소설에 "열다섯 살 소년"으로 작성

→ 설정 일관성 유지 ✅
```

---

## 6. 성공 지표

### 6.1 기술 지표

```
3개월 후:
✅ GEUL 스펙 확정 (변경 불필요)
✅ GWMS 작동 (1만 엔티티 처리)
✅ UI 완성도 70%
✅ 버그 < 5개 (Critical)

성능 목표 (낮음, OK):
- GetEntity: < 10ms
- Query 100개: < 100ms
- 파일 저장: < 1s
- 파일 크기: < 100MB (1만 엔티티 기준)
```

### 6.2 사용 지표

```
3개월 후:
✅ 내 소설 1편 완료
  - 엔티티 50+
  - 이벤트 100+
  - 관계 200+
  
✅ 실제 집필에 사용
  - 주 3회 이상 접속
  - 회당 30분+ 사용
  
✅ 케이스 스터디 공개
  - 블로그 조회 100+
  - GitHub Star 10+
```

### 6.3 학습 지표

```
3개월 후:
✅ 개선 포인트 10개 이상 발견
✅ 우선순위 명확
✅ v0.2 로드맵 확정

예:
- "타임라인 뷰 필수"
- "자동완성 필요"
- "관계 그래프 나중에 OK"
```

---

## 7. 리스크 관리

### 7.1 기술 리스크

```
리스크: GEUL 스펙 변경 필요
확률: 중간
영향: 높음

완화:
- Week 1-2에 철저히 검토
- 예시 20개 작성해보기
- 변경 시 마이그레이션 도구

리스크: GWMS 성능 부족
확률: 낮음
영향: 중간

완화:
- 내 소설은 1만 엔티티 미만
- 최적화는 나중에
- 병목 측정 후 개선

리스크: UI 개발 지연
확률: 중간
영향: 중간

완화:
- AI 적극 활용
- 디자인 단순하게
- shadcn/ui 활용
```

### 7.2 일정 리스크

```
리스크: 3개월 내 미완성
확률: 중간
영향: 낮음

완화:
- MVP 범위 엄격히 준수
- 주간 체크포인트
- 슬랙 2주 확보

대응:
- 4개월로 연장
- UI 일부 포기
- CLI로 대체
```

### 7.3 동기 리스크

```
리스크: 혼자서 지침
확률: 높음
영향: 높음

완화:
- 주간 목표 작게
- 성취감 자주
- AI와 대화

대응:
- 커뮤니티 찾기
- 블로그 글쓰기
- 쉬어가기
```

---

## 8. 다음 단계 (v0.2)

### 8.1 6개월 목표

```
기능 추가:
□ 관계 그래프 시각화
  - Cytoscape.js
  - 인터랙티브
  
□ 타임라인 강화
  - 줌인/아웃
  - 사건 상세
  
□ Export
  - PDF 설정집
  - Markdown 문서
  
□ 템플릿 확장
  - 판타지 템플릿
  - SF 템플릿
  - 현대물 템플릿

베타 테스트:
□ 작가 10명 모집
□ 피드백 수집
□ 사용 후기

준비:
□ 웹사이트
□ 가격 정책
□ 결제 시스템
```

---

## 9. 시작하기

### 9.1 개발 환경

```bash
# Go 설치
$ brew install go
$ go version  # 1.21+

# Node.js 설치
$ brew install node
$ node --version  # 20+

# Git 리포 생성
$ mkdir geul-world
$ cd geul-world
$ git init

# 디렉토리 구조
$ mkdir -p geul gwms ui docs examples
```

### 9.2 첫 주 목표

```
□ GEUL TypeId 체계 확정
  - 256개 슬롯 할당
  - 문서 작성
  
□ GWMS 파일 포맷 확정
  - Header 구조
  - 섹션 레이아웃
  
□ 워드넷 데이터 다운로드
  - Verb Synset 추출
  
□ Go 기본 구조
  - types.go
  - 첫 테스트
```

### 9.3 체크리스트

```
환경:
□ Go 설치됨
□ Node.js 설치됨
□ VSCode 설치됨
□ Git 설정됨

문서:
□ geul-spec.md 시작
□ gwms-spec.md 시작
□ TODO.md 작성

마인드셋:
□ MVP 범위 이해
□ 3개월 각오
□ AI 활용 계획
```

---

## 10. 결론

### 10.1 왜 이 프로젝트인가

```
개인적 필요:
✅ 내가 쓸 도구
✅ 설정 관리 고민 해결
✅ 실제 소설에 사용

기술적 가치:
✅ GEUL 표준 확립
✅ Graph World Model 실험
✅ GPT 연동 준비

비즈니스 가치:
✅ 작가 시장 존재
✅ 유료 전환 가능
✅ 커뮤니티 형성
```

### 10.2 성공 정의

```
3개월 후:
"내가 매일 쓰는 도구가 완성되었다"

6개월 후:
"다른 작가 10명도 쓰고 있다"

12개월 후:
"작가 커뮤니티가 생겼다"
```

### 10.3 마지막 메시지

```
이 프로젝트는:
- 너무 크지 않다 (3개월 가능)
- 너무 작지 않다 (확장 가능)
- 실용적이다 (내가 쓴다)
- 혁신적이다 (GEUL 표준)
- 재미있다 (소설 + 코딩)

혼자 + AI면 충분하다.

시작하자. 🚀
```

---

**프로젝트 시작일:** 2024-12-04  
**첫 커밋 목표:** 2024-12-06  
**v0.1 완성 목표:** 2025-03-04

**"작가가 설정을 잊어버리지 않는 세상을 만들자"**
