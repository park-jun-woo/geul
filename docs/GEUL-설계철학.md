# GEUL-설계철학.md  
*GEUL (General Embedding Universal Language) 설계 철학 v1.0*

---

## 0. 이 문서의 목적

이 문서는 **GEUL이 “무엇을 어떻게 표현하려 하는 언어인지”에 대한 철학적·개념적 설명**이다.  
비트 필드, 워드 구조, 패킷 포맷은 별도 명세서(`GEUL-비트명세서.md`, `GEUL Stream Format`)에서 다루고,  
여기서는 **그 설계 선택들이 어떤 세계관 위에서 나온 것인지**를 기술한다.

---

## 1. GEUL이 다루는 것은 “현실”이 아니라 “서술”이다

### 1.1 지도는 영토가 아니다

GEUL이 다루는 대상은 **‘세계 그 자체’가 아니라 ‘세계에 대한 진술’**이다.

- 우리는 **Fact(사실)**를 직접 다루지 않는다.  
- 대신 **Claim(주장, 서술, 기록)**만을 표현하고 저장한다.
- “이순신은 1598년에 죽었다”도 사실이 아니라,  
  - 어떤 역사적 문헌,
  - 어떤 학자,
  - 어떤 시스템이  
  특정 맥락에서 **그렇게 서술했다는 Claim**일 뿐이다.

> GEUL의 1원칙:  
> **“우리는 진실이 아니라, 진실에 대한 문장을 다룬다.”**

이 전제를 명확히 해 두면:

- 상충되는 서술(모순된 역사, 다양한 루머, 서로 다른 관점)을  
  “에러”가 아니라 “동시 존재 가능한 Claim 집합”으로 다룰 수 있다.
- WMS는 이 Claim들의 집합 위에서 **합의(Consensus), 우도(Likelihood), Canon(정전)**을 계산할 수 있다.

GEUL은 “지도”를 그리는 언어이고,  
WMS는 “지도들을 모아서 영토를 역추적하는 엔진”이다.

---

## 2. 진실의 4계층 – GEUL이 기대하는 세계 모델 구조

GEUL은 WMS와 함께 다음과 같은 **진실 계층 구조**를 전제로 한다.

| 계층 | 이름 | 성격 | 예시 | GEUL에서의 역할 |
|------|------|------|------|------------------|
| L0 | 수학/논리 | 불변, 공리 | `1+1=2`, 논리 연산 | **엔진 코드(Go)**, GEUL 밖 |
| L1 | 규칙/법칙/계약 | 월드별 “가변적 절대” | 물리 법칙, 사규, 게임 룰 | **Rule/Logic Edge** |
| L2 | 합의/정설 | 확률적, 집단적 | 정설 역사, 과학 이론 | 여러 Claim의 집계 레벨 |
| L3 | 서술/관측 | 주관적, 개별적 | 뉴스 기사, 대화, 소설 문장 | **Event/Triple**로 직렬화 |

### 2.1 L0: 수학은 엔진이다 (GEUL 밖)

수학과 논리(연산 규칙)는 데이터가 아니라 **엔진의 작동 규칙**이다.

- `1+1=2`, `hp = hp - 10` 같은 것은 **world.gwms 파일로 저장하지 않는다.**
- 이는 WMS 구현체(Go 코드, VM, 런타임) 내부에 존재하는 **절차(Procedure)**이다.

> GEUL은 수학을 **표현**하지 않는다.  
> GEUL은 수학이 **작동한 결과**(계산된 값, 관계)를 다룰 뿐이다.

### 2.2 L1: 물리/규범은 “월드의 헌법”이다

L1은 각 World가 가진 **기본 규칙**을 표현한다.

- 물리 법칙: 중력, 마법 규칙, 마나 회복 공식…
- 규범/계약: 사규, 법률, 게임 룰, 신의 계시…

이들은 GEUL에서 **특정 타입의 Edge/Node**로 표현된다:

- “이 World에서는 `중력 = 0.5 * 지구`”
- “이 조직에서는 `퇴근 시각 ≥ 18:00`”

여기서 중요한 점:

- L1은 “깨지면 시뮬레이션이 모순/위반 상태가 됨”을 정의한다.
- 물리(Physical Rule)와 규범(Normative Rule)은 **동일한 레벨**이지만,  
  **다른 Subtype**으로 구분해야 한다.
  - 깨지면 “불가능한 상태”인지,
  - 깨지면 “위반 상태지만 가능한 상태”인지를 구분하기 위해.

### 2.3 L2: 합의/정설 – 여러 Claim이 만드는 “가장 그럴듯한 세계”

L2는 한 문장, 한 기록이 아니라:

- **여러 출처, 여러 시점, 여러 POV의 Claim들을 종합했을 때**
- “현재 이 World에 대해 가장 그럴듯한 상태”를 의미한다.

WMS는:

- L3에서 매핑된 GEUL Event/Triple들을 수집하고,
- L1 Rules, L0 Logic과 대조한 뒤,
- L2 Consensus를 계산한다. (가중치, 출처 신뢰도, 증거 수 등)

GEUL 자체는 L2를 직접 “계산”하지 않는다.  
다만 **L2를 계산하기 좋은 형태로 L3를 구조화**해 주는 것이 GEUL의 역할이다.

### 2.4 L3: 서술/관측 – GEUL이 직접 다루는 1차 데이터

L3는 다음과 같은 것들이다.

- “A 기자가 2023년에 이렇게 썼다”
- “이 소설 23장에서 이런 대사가 나온다”
- “이 채팅에서 사용자가 이렇게 말했다”

GEUL의 **대부분의 패킷(Entity, Context, Triple, Event6, Verb)**은  
L3를 표현하는 데 쓰인다.

> GEUL의 출발점은 **항상 L3**이다.  
> 나머지는 WMS와 상위 레이어(Reasoner)가 책임진다.

---

## 3. GEUL의 목표 – “뉴로-심볼릭 인터페이스 언어”

### 3.1 GEUL의 위치

GEUL의 위치를 한 줄로 표현하면:

> **“LLM ↔ WMS 사이의 심볼릭 스트림 포맷”**

역할:

- 자연어 ↔ 세계 그래프 사이의 **중간 언어(Interlingua)**
- LLM이 다루기 쉬운 **16-bit 워드 스트림**
- WMS가 다루기 쉬운 **Node/Edge 구조**

### 3.2 GEUL은 세 가지를 동시에 만족하려 한다

1. **LLM 친화성**
   - 16-bit 워드 = GPT 토큰과 1:1 매핑 가능
   - 고정된 패턴(TypeId, Length, Field 순서) → 학습/추론 용이
   - 불필요한 자연어 모호성을 제거한 **구조화된 입력**

2. **WMS 친화성**
   - SIDX 기반 의미정렬 ID → 내부 그래프와 자연스럽게 매핑
   - TID 기반 로컬 압축 → 쿼리 결과를 작은 스트림으로 전달
   - Context/World/Time/POV가 항상 명시되는 구조

3. **표준·생태계 확장성**
   - GEUL Core / Extension / 자유영역 분리
   - Issuer 개념을 통한 타입 등록
   - “한 번 정의된 SIDX는 전 세계 어디서나 동일 의미”라는 약속

---

## 4. 설계 원칙

### 4.1 원칙 1: 자연어보다 덜 모호해야 한다

자연어는 모호함과 중복을 허용하지만, GEUL은 그렇지 않다.

- “이순신은 위대했다”  
  → 자연어에서는 시제·범위·관점이 애매하다.
- GEUL로 옮길 때:
  - 어떤 Context(세계/연도/POV)에서,
  - 어떤 시제/Aspect/반복성으로,
  - 어떤 동사/형용사(Verb SIDX)로,
  - 누가 그렇게 서술했는지를 분명히 적어야 한다.

> GEUL의 목표는 자연어를 “손실 없이” 옮기는 것이 아니라,  
> **추가 정보(맥락, 한정사)를 포함한 구조화된 표현으로 재정렬하는 것**이다.

### 4.2 원칙 2: World-agnostic, POV-aware

GEUL은 “진짜 세계”에 대한 편견을 가지지 않는다.

- 리얼 월드, 판타지 월드, SF 월드, 개인의 기억, 꿈, 망상까지  
  전부 Context 노드와 Edge 조합으로 표현 가능해야 한다.
- 대신 **POV(관점), Modality(현실/가상/꿈), Confidence(확신도)**를  
  동사 한정사 / Context 속성으로 명시한다.

즉:

- “이게 진짜냐?”는 GEUL이 답할 질문이 아니다.
- “누가, 어느 세계, 어느 시점, 어느 관점에서 그렇게 주장했냐?”가 GEUL의 책임이다.

### 4.3 원칙 3: Node/Edge의 역전 – 서술 우선, 상태는 파생물

WMS는 내부적으로 World State(노드, 엣지, 속성)를 관리하지만,  
GEUL은 **서술(발화, 문장, 사건)을 우선시**한다.

- 1단계: 자연어 → GEUL 서술 (Event, Triple, Verb Edge)
- 2단계: GEUL 서술 → WMS World State(Triple Edge, Event6 등)로 정규화/추론

이 두 단계를 의식적으로 분리한다:

- “사람이 말한 문장”과  
- “시스템이 추론한 세계 상태”를 같은 레벨의 것처럼 섞지 않는다.

### 4.4 원칙 4: 16-bit 워드 & 고정 패킷 – LLM & CPU 양쪽을 위한 타협

- 모든 데이터는 **16-bit 워드 배열**로 흐른다.
- 패킷은 `TypeId + Length + Fields` 구조를 가진다.
- Node 대부분은 4워드, Edge는 8~16워드 정도의 고정/반고정 길이를 따른다.

이 설계는:

- LLM에게는 “짧지만 규칙적인 토큰 시퀀스”
- WMS/코드에게는 “빠르게 파싱 가능한 바이너리 스트림”

이라는 두 요구를 동시에 만족시키기 위한 타협이다.

### 4.5 원칙 5: TID는 “그/그녀/이것”이다

- SIDX(64-bit)는 **세계 전체에서 유일한 의미 ID**다.
- TID(16-bit)는 **한 스트림/쿼리 안에서만 유효한 ‘임시 지시어’**다.

LLM에게 TID는 자연어의 **대명사**에 가깝다:

- “TID#1 = 이순신”
- 이후 패킷에서 `TID#1`만 써도, LLM은 그게 이순신이라는 걸 안다.

이로써:

- 스트림 전체 길이를 줄이고,
- 개체들 간의 반복적 참조 구조를 LLM이 더 쉽게 학습한다.

---

## 5. 동사와 한정사: 서술층(L3)의 정밀도

### 5.1 왜 이렇게까지 동사 한정사를 넣는가?

월드 모델(L1~L2)만 본다면, 동사 한정사는 거의 필요 없다.

- “A는 B를 사랑했다” → 결국 “관계 Edge + Time”으로 정리된다.
- 뉴스, 역사, ERP 데이터에서 중요한 건:
  - 누가/언제/어디서/무엇을 했는지,
  - 그것이 규칙과 합의에 비추어 어떤 상태인지만.

그러나:

- **대화, 문학, 드라마, 소설, 캐릭터의 마음속 세계**를 다루려면  
  동사의 미세한 한정사가 중요해진다.

예:

- “사랑한다” vs “사랑했었다” vs “사랑하고 있었다”
- “믿는다” vs “믿고 싶다” vs “믿은 적이 있었다”
- “그는 죽었다” vs “죽어 있었다” vs “죽어 가고 있었다”

GEUL은 **L3 서술층을 제대로 살리고**,  
나중에 L2/L1로 가면서 필요에 따라 정보를 축소·정규화하는 방향을 택한다.

### 5.2 설계 철학

- L3에서 **동사+한정사 정보를 최대한 풍부하게 보존**해 두면:
  - 나중에 어떤 세계 모델/이론/게임 시스템이 오더라도  
    다양한 방식으로 재해석이 가능하다.
- 반대로 L3 단계에서부터 너무 적극적으로 압축·정규화하면:
  - 원래 서술의 미묘함(예: 추측, 확신도, 공손, 의도성)이 사라진다.

> GEUL의 방향:  
> “L3에서 가능한 한 많이 잡고, L2/L1로 갈 때 필요한 만큼만 버리자.”

---

## 6. GEUL Standard vs Extension vs 자유영역

### 6.1 Core vs Extension

GEUL의 타입/ID 공간은 크게 두 층으로 나뉜다.

1. **GEUL Standard (Core)**
   - 모든 구현체가 동일하게 이해해야 하는 기본 의미
   - 예: 기본 Node/Edge 구조, Context, Event6, 자주 쓰이는 Relation, 기본 동사/속성
   - 여기서 정의된 SIDX/Type은 **“전 우주 공용”**이라는 약속을 가진다.

2. **GEUL Extension**
   - 특정 기관/프로젝트/도메인을 위한 확장
   - Issuer ID를 통해 누가 정의했는지 추적 가능
   - “표준에 들어갈 준비는 되었지만, 아직 실험/도메인 특화 상태” 정도의 의미

3. **자유 영역 (World-local / Custom)**
   - 특정 월드, 특정 작품, 특정 서비스 안에서만 의미 있는 타입/ID
   - “이 안에서만 안 부딪히면 된다” 수준의 규칙
   - 외부와의 상호운용성은 스스로 책임져야 한다.

### 6.2 철학적 이유

- 세계를 모델링하는 언어는 **절대 폐쇄계가 될 수 없다.**
  - 새로운 개념, 새로운 세계관, 새로운 물리/마법/규칙은 계속 등장한다.
- GEUL Core는 **“위키데이터+워드넷+기본 세계 지식의 집합”** 같은 역할을 하고,
- 각 도메인/기업/작가는 Extension/Custom 영역에서  
  **자신만의 세계를 확장해 나갈 수 있어야 한다.**

---

## 7. GEUL과 WMS의 관계

### 7.1 역할 분담

- **WMS**  
  - World Management System  
  - 실제 월드 상태, 인덱스, 스냅샷, Delta, N-hop 탐색, Rule 검증 등을 수행.

- **GEUL**  
  - WMS와 LLM, 외부 시스템 사이의 “연결 언어”  
  - 쿼리와 결과를 표현하는 **스트림 포맷**이자,  
    월드를 옮아가는 **이식 가능한 언어**.

### 7.2 GEUL은 WMS 내부 포맷이 아니다 (원칙)

- WMS 내부 저장 포맷(world.gwms)은 **메모리/디스크/캐시 최적화 구조**를 따른다.
  - SoA, 버킷, 인덱스, 압축 등.
- GEUL은 “전송/인터페이스 최적화 포맷”이다.
  - LLM, 기타 시스템, 다른 WMS 구현체와 주고받기에 유리하게 설계.

둘은 **필요할 때 서로 변환**한다:

- `WMS → GEUL` : 쿼리 결과를 LLM/외부로 보낼 때
- `GEUL → WMS` : 자연어/LLM/입력 시스템이 만든 서술을 세계에 반영할 때

---

## 8. 서술과 월드를 분리하는 2단계 파이프라인

앞에서 언급한 내용을 GEUL 관점에서 정리하면:

1. **서술층(L3): 자연어 → GEUL**
   - “그는 어제 서울에서 그 말을 했다”
   - → Event6 + Triple + Verb Edge + Context로 직렬화
   - 이때 동사 한정사, POV, 증거성 등 최대한 풍부하게 담는다.

2. **월드층(L2/L1): GEUL 서술 → WMS World**
   - 여러 서술을 모아,
   - 규칙과 충돌 여부를 확인하고,
   - 합의/Canon/World State를 계산한다.

이 흐름을 철학 레벨에서 합의해 두면, 구현 단계에서  
“왜 GEUL에 이런 정보까지 넣느냐 / 왜 여기서 압축하지 않느냐”라는 질문들에 대해  
일관된 답을 줄 수 있다.

---

## 9. 요약 – GEUL 설계 철학 다섯 줄

1. **우리는 Fact 대신 Claim을 다룬다.**  
   GEUL은 “세상”이 아니라 “세상에 대한 문장”을 표현하는 언어다.

2. **진실은 4계층으로 다룬다.**  
   수학(L0)은 엔진, 규칙(L1)은 월드의 헌법, 합의(L2)는 정설, 서술(L3)은 데이터다.

3. **GEUL은 뉴로-심볼릭 인터페이스다.**  
   LLM과 WMS 사이를 16-bit 워드 스트림으로 연결하는 중간 언어다.

4. **서술층은 풍부하게, 월드층은 정규화해서.**  
   동사/한정사는 L3에서 최대한 살리고, L2/L1로 갈수록 필요한 만큼만 줄인다.

5. **Core/Extension/Custom의 3층 구조로 열린 표준을 지향한다.**  
   리얼월드·가상세계·기업·개인은 각각 자기 세계를 확장할 수 있고,  
   Core는 모두가 공유하는 공통 언어가 된다.

---

이 철학 위에서 GEUL의 비트 구조, 스트림 포맷, WMS 파일 포맷 설계가 결정된다.  
구현 세부 사항이 바뀌더라도, 이 문서의 내용은 **가능한 한 변경 없이 유지되는 것**을 목표로 한다.
