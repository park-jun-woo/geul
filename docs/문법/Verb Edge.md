# Verb Edge 명세서

**버전:** v0.2  
**작성일:** 2026-01-29  
**목적:** GEUL 서술문 표현을 위한 Verb Edge 패킷 구조 정의

---

## 1. 개요

Verb Edge는 사건/행위를 표현하는 핵심 Edge 타입이다.

두 가지 패킷 타입:
- **Tiny Verb Edge:** 2워드 (32비트) - 고빈도 단순 서술용
- **Verb Edge:** 3~5워드 - 일반/정밀 서술용

**핵심 설계 원칙:**
- 동사 본문 16비트 **독립 워드** (마지막 워드)
- Tiny: Target×패턴 11비트 통합 (커버율 ~90%)
- Verb Edge: Type 1비트로 Short/Full 분기
- 평균 패킷 크기 **2.16워드** (33% 절감)

---

## 2. Prefix

`SIDX.md` 참조

| 타입 | Standard | Proposal | 비트 |
|------|----------|----------|------|
| Tiny Verb Edge | `0 1` | `1100 1` | 2 / 5 |
| Verb Edge | `0 01` | `1100 01` | 3 / 6 |

---

## 3. Tiny Verb Edge (2워드 = 32비트)

### 3.1 구조

```
1st WORD (16비트)
┌────────┬─────────────────────────────────┐
│ Prefix │      Target × 패턴 통합         │
│  5bit  │           11bit                 │
└────────┴─────────────────────────────────┘

2nd WORD (16비트)
┌────────────────────────────────────────────┐
│                 동사 본문                   │
│                  16bit                     │
└────────────────────────────────────────────┘
```

### 3.2 필드 요약

| 필드 | 비트 | 설명 |
|------|------|------|
| Prefix | 5 | `11001` |
| Target×패턴 | 11 | 18 Target × 113 패턴 = 2,034 |
| 동사 본문 | 16 | verb_bits.json 코드 |

### 3.3 Target × 패턴 (11비트)

**인코딩:**
```
값 = Target × 113 + 패턴
```

**디코딩:**
```
Target = 값 / 113
패턴 = 값 % 113
```

**유효 범위:** 0 ~ 2,033 (예약: 2,034 ~ 2,047)

### 3.4 Target (18종)

| 값 | 의미 |
|----|------|
| 0 | Root (일반 서술) |
| 1-17 | Inner (참여자 수식) |

### 3.5 패턴 (112종 = 참여자 16 × 한정자 7)

**패턴 계산:**
```
패턴 = 참여자코드 × 7 + 한정자코드
```

#### 참여자 패턴 (16종)

| 코드 | 패턴 | 예시 |
|------|------|------|
| 0 | AGT | "철수가 뛴다" |
| 1 | AGT+PAT | "철수가 밥을 먹는다" |
| 2 | AGT+THM | "철수가 영희를 좋아한다" |
| 3 | AGT+RCP+THM | "철수가 영희에게 책을 준다" |
| 4 | AGT+PAT+LOC | "철수가 학교에서 밥을 먹는다" |
| 5 | AGT+DST | "철수가 학교에 간다" |
| 6 | THM | "비가 온다" |
| 7 | AGT+PAT+INS | "철수가 칼로 빵을 자른다" |
| 8 | AGT+SRC | "철수가 서울에서 왔다" |
| 9 | AGT+PAT+MNR | "철수가 빨리 밥을 먹는다" |
| 10 | AGT+LOC | "철수가 학교에 있다" |
| 11 | AGT+THM+LOC | "철수가 학교에서 영희를 만났다" |
| 12 | AGT+RCP | "철수가 영희에게 말했다" |
| 13 | AGT+PAT+CAU | "배고파서 밥을 먹었다" |
| 14 | AGT+COM | "철수가 영희와 갔다" |
| 15 | PAT | "문이 열렸다" |

#### 한정자 패턴 (7종)

| 코드 | 시제 | 극성 | 상 | 예시 |
|------|------|------|-----|------|
| 0 | 현재 | 긍정 | 단순 | "먹는다" |
| 1 | 과거 | 긍정 | 단순 | "먹었다" |
| 2 | 미래 | 긍정 | 단순 | "먹을 것이다" |
| 3 | 현재 | 부정 | 단순 | "안 먹는다" |
| 4 | 과거 | 부정 | 단순 | "안 먹었다" |
| 5 | 현재 | 긍정 | 진행 | "먹고 있다" |
| 6 | 과거 | 긍정 | 완료 | "먹어 버렸다" |

### 3.6 예상 커버율: ~90%

---

## 4. Short Verb Edge (3워드 = 48비트)

### 4.1 구조

```
1st WORD (16비트)
┌────────┬──────┬───────────────────────────┐
│ Prefix │ Type │       참여자패턴           │
│  6bit  │ 1bit │         9bit              │
└────────┴──────┴───────────────────────────┘

2nd WORD (16비트)
┌────────────────────────────────────────────┐
│          Target × 한정자패턴                │
│                 16bit                      │
└────────────────────────────────────────────┘

3rd WORD (16비트)
┌────────────────────────────────────────────┐
│                 동사 본문                   │
│                  16bit                     │
└────────────────────────────────────────────┘
```

### 4.2 필드 요약

| 필드 | 비트 | 설명 |
|------|------|------|
| Prefix | 6 | `110001` |
| Type | 1 | `0` (Short) |
| 참여자패턴 | 9 | 512패턴 |
| Target×한정자패턴 | 16 | 18 × 3,640 = 65,520 |
| 동사 본문 | 16 | verb_bits.json 코드 |

### 4.3 참여자패턴 (9비트 = 512패턴)

빈도 기반 상위 512개 참여자 조합.

Tiny 16패턴 이후 확장:
- 1개 참여자: 17종
- 2개 참여자: C(17,2) = 136종
- 3개 참여자: C(17,3) = 680종 중 상위 선택

### 4.4 Target × 한정자패턴 (16비트)

**인코딩:**
```
값 = Target × 3640 + 한정자패턴
```

**디코딩:**
```
Target = 값 / 3640
한정자패턴 = 값 % 3640
```

### 4.5 한정자패턴 (3,640패턴)

| 필드 | 비트 | 가짓수 |
|------|------|--------|
| Tense | 2 | 4 |
| Aspect | 3 | 8 |
| Polarity | 2 | 4 |
| Voice | 2 | 4 |
| Mood | 2 | 4 |
| Modality | 2 | 4 |
| 기타 | - | 확장용 |

---

## 5. Full Verb Edge (5워드 = 80비트)

### 5.1 구조

```
1st WORD (16비트)
┌────────┬──────┬──────────────┬──────────┐
│ Prefix │ Type │ Target참여자  │   예약   │
│  6bit  │ 1bit │    5bit      │   4bit   │
└────────┴──────┴──────────────┴──────────┘

2nd + 3rd WORD (32비트)
┌───────────────────┬─────────────────────────┐
│   참여자플래그     │       한정자 상위        │
│     17bit         │         15bit           │
└───────────────────┴─────────────────────────┘

4th WORD (16비트)
┌─────────────────────────────┬───────────────┐
│         한정자 하위          │     예약      │
│           12bit             │     4bit      │
└─────────────────────────────┴───────────────┘

5th WORD (16비트)
┌────────────────────────────────────────────┐
│                 동사 본문                   │
│                  16bit                     │
└────────────────────────────────────────────┘
```

### 5.2 필드 요약

| 필드 | 비트 | 설명 |
|------|------|------|
| Prefix | 6 | `110001` |
| Type | 1 | `1` (Full) |
| Target참여자 | 5 | 0=Root, 1-17=Inner |
| 예약 (1st) | 4 | 미래 확장 |
| 참여자플래그 | 17 | 전체 참여자 |
| 한정자 | 27 | 완전 한정자 |
| 예약 (4th) | 4 | 미래 확장 |
| 동사 본문 | 16 | verb_bits.json 코드 |

### 5.3 참여자플래그 (17비트)

| 비트 | 코드 | 역할 |
|------|------|------|
| 0 | AGT | Agent |
| 1 | EXP | Experiencer |
| 2 | THM | Theme |
| 3 | PAT | Patient |
| 4 | RCP | Recipient |
| 5 | BNF | Beneficiary |
| 6 | INS | Instrument |
| 7 | MNR | Manner |
| 8 | LOC | Location |
| 9 | SRC | Source |
| 10 | DST | Destination |
| 11 | PTH | Path |
| 12 | CAU | Cause |
| 13 | PRP | Purpose |
| 14 | COM | Comitative |
| 15 | ATR | Attribute |
| 16 | THN | Than |

### 5.4 한정자 (27비트)

| 비트 | 필드 | 크기 |
|------|------|------|
| 0-1 | Evidentiality | 2 |
| 2-3 | Mood | 2 |
| 4-5 | Modality | 2 |
| 6-7 | Tense | 2 |
| 8-10 | Aspect | 3 |
| 11-12 | Politeness | 2 |
| 13-14 | Polarity | 2 |
| 15-16 | Volitionality | 2 |
| 17-18 | Confidence | 2 |
| 19-21 | Iterativity | 3 |
| 22-24 | Intensity | 3 |
| 25-26 | Voice | 2 |

---

## 6. 동사 본문 (16비트)

### 6.1 구조

```
┌─────────────────────────┬────────────────────────────┐
│   sub_primitive code    │     트리 내 DFS index      │
│   (4-8비트, 허프만)      │     (8-12비트)             │
└─────────────────────────┴────────────────────────────┘
```

### 6.2 상위 sub_primitive

| 순위 | Sub_primitive | code | verb_count |
|------|--------------|------|------------|
| 1 | CHANGE-TRANSFORM | `0000` | 3,049 |
| 2 | CAUSE-USE | `0001` | 1,349 |
| 3 | MOVE-DISPLACE | `0010` | 1,025 |
| 4 | MOVE-GO | `0011` | 945 |

### 6.3 참조 파일

- `sub_primitive_map.json`: 68개 sub_primitive → code
- `verb_bits.json`: 13,767개 동사 → 16비트 코드

---

## 7. 모드 비교

| | Tiny | Short | Full |
|--|------|-------|------|
| Prefix | 5bit | 6bit | 6bit |
| Type | - | 0 | 1 |
| 참여자 | 16패턴 | 512패턴 | 17bit 플래그 |
| 한정자 | 7패턴 | 3,640패턴 | 27bit |
| 동사 본문 | 16bit | 16bit | 16bit |
| **워드** | **2** | **3** | **5** |

---

## 8. 패킷 구조

### 8.1 Tiny Root

```
[Tiny 2워드] + [Edge TID 1워드] + [참여자 TID × N]
```

### 8.2 Tiny Inner

```
[Tiny 2워드] + [Edge TID 1워드] + [Parent TID 1워드] + [참여자 TID × N]
```

### 8.3 Short/Full Root

```
[Edge 3/5워드] + [Edge TID 1워드] + [참여자 TID × N]
```

### 8.4 Short/Full Inner

```
[Edge 3/5워드] + [Edge TID 1워드] + [Parent TID 1워드] + [참여자 TID × N]
```

---

## 9. 선택 가이드

| 상황 | 선택 |
|------|------|
| 단순 서술 (상위 패턴) | Tiny |
| Tiny 패턴 외 조합 | Short |
| 정밀 한정자/복잡 참여자 | Full |
| 대량 로그/스트림 | Tiny |
| 비교문 (THN 필요) | Full |

---

## 10. 예상 분포 및 효율

| 모드 | 워드 | 예상 비율 |
|------|------|----------|
| Tiny | 2 | 90% |
| Short | 3 | 7% |
| Full | 5 | 3% |

**평균:** 0.9×2 + 0.07×3 + 0.03×5 = **2.16워드**

---

## 버전 히스토리

| 버전 | 날짜 | 변경 |
|------|------|------|
| v0.1 | 2026-01-29 | 초안 작성 |
| v0.2 | 2026-01-29 | Prefix 섹션 간소화, SIDX.md 참조로 변경 |

---

**문서 종료**