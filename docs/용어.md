# GEUL & GWMS 용어 정리

---

## 1. 최상위 개념

### 1.1 GEUL (General Embedding Unified Language)

- 정의:  
  GPT류 LLM과 GWMS 사이에서 쓰는 **16-bit 워드 기반 심볼릭 인터페이스 언어**.  
- 특징:
  - 모든 것은 **16-bit Word 배열**로 표현.
  - GPT 토큰과 **1:1 매핑 가능**한 정수 시퀀스.
  - 의미정렬 식별자 개념을 적용한 **패킷 스트림 구조**.
  - **SIDX**를 **TID** 간접 참조로 압축.

---

### 1.2 GWMS (GEUL World Management System)

- 정의:  
  여러 세계(World)의 상태를 **그래프 형태로 저장·조회·추론하는 월드 모델 엔진**.  
- 역할:
  - **World** 단위로 FACT / RULE / BOOK 테이블을 관리.
  - GEUL 스트림으로 입출력.
  - 쿼리, 인덱싱, Rule 평가, SLT 호출 등을 수행하는 **백엔드 엔진**.
- 내부 코어:
  - L0 커널 레이어에서 정의된 **ID 체계, SIMD 필터, CSR 인덱스, ETL 파이프라인**을 구현하는 엔진.  

---

### 1.3 World

- 정의:  
  하나의 **세계관 / 조직 / 도메인**을 담는 최상위 컨테이너.  
- 예:
  - `World: RealWorld_KR_2025`
  - `World: MyNovel_Arthur`
  - `World: AcmeCorp_ERP`
- 구성:
  - 여러 개의 **Table** (FACT / RULE / BOOK)을 가질 수 있음.  
  - 자체 **타임라인 설정** 보유  
    - `time_zone`, `calendar`  
    - `keyframe_model_table_id`: 타임라인 Keyframe 엔티티가 들어 있는 FACT 테이블.  

---

## 2. 레이어 / 계층 개념

### 2.0 L0 – Kernel Layer (커널 레이어)

- 역할:  
  **수학·논리·자료구조·성능 최적화**를 담당하는 가장 아래 레이어.  
- 포함 요소:
  - 64-bit Semantic ID 주소 계산 (Static/Dynamic 구분, Category, Tier, Index).  
  - SIMD 비트마스크 필터링, CSR 기반 엣지 인덱스, N-hop 탐색.  
  - 위키데이터 등 외부 소스를 월드 모델로 가져오는 ETL 파이프라인.  

---

### 2.1 L1 – World Model Layer (FACT Layer)

- 역할:  
  “지금/그때 그 세계가 **어떻게 되어 있었는가**”를 표현하는 **정제된 상태(canonical state)** 레이어.  
- 단위:
  - CoreTable
  - Timeline Keyframe 기반의 `valid_from` / `valid_until`.
- 특징:
  - 잔고, HP, 재고, 관계, 태그, 플래그 등 **상태값**을 표현.
  - Canon/Branch 관리(소설 세계관의 분기 등)는 L1에서 담당.  

---

### 2.2 L2 – Rule Layer (RULE Layer)

- 역할:  
  해당 World를 지배하는 **법칙 / 규칙 / 정책 / 물리 법칙**을 표현하는 레이어.  
- 단위:
  - RuleTable
  - Rule의 유효 기간: `effective_from` / `effective_until`.
- 특징:
  - Rule도 결국 **그래프 데이터**로 저장 (“Rule-as-Data”).  
  - 런타임 성능을 위해 **Rule Compiler**로 컴파일된 형식(Bytecode/IR 등)을 함께 보관 (“Rule-as-Code”).  
  - Rule 라이프사이클: 정의 → 검증 → 컴파일 → 등록 → 실행 → 폐기.  

---

### 2.3 L3 – Narrative / Book Layer (BOOK Layer)

- 역할:  
  **서술, 로그, 보고서, 대화, 통화 녹취, 소설 텍스트** 등 “사람이 남긴 기록”을 저장하는 레이어.  
- 단위:
  - BookTable
- 특징:
  - BOOK 자체는 **타임라인 축을 갖지 않는다**.
  - 대신 BookEntry마다:
    - `recorded_at` (기록된 시각, 시스템 로그 시각)
    - `event_time_explicit` / `event_time_keyframe` (서술이 가리키는 사건 시점, 있으면 메타로 기록)
  - WORLD 모델과 느슨하게 연결:
    - `related_entities: [SIDX...]`
    - `related_events: [SIDX...]`  

---

## 3. GEUL 기본 단위 / 구조

### 3.1 Word (워드)

- 정의:  
  GEUL의 최소 단위. **16-bit 부호 없는 정수** (0–65535).  
- 역할:
  - 모든 정보를 Word 단위로 인코딩.
  - GPT 토큰과 직접 매핑 가능한 ID 공간.

---

### 3.2 SIDX (Meaning ID / Meaning Identifier)

- 정의:  
  **64-bit 의미 정렬 ID** (보통 4 Word로 표현).  
- 역할:
  - “이 개체/개념이 무엇인지”를 전 세계에서 유일하게 식별하는 ID.
  - Wikidata QID, 내부 UID 등과 맵핑 가능한 계층.
- 구현 관점:
  - 실제 비트 레이아웃은  
    `Flag(1) | Category(4) | Tier(3) | Index(56)` 으로 구성된 64-bit Semantic ID를 사용.  
  - 여기서 Category/Tier는 SIMD 필터링에 활용된다.

---

### 3.3 TID (Temporary ID)

- 정의:  
  GEUL 스트림 내부에서만 쓰는 **1 Word(16-bit) 또는 2 Word(32-bit)짜리 임시 ID**.  
- 범위:
  - `0x0000` = NULL
  - `0x0001 ~ 0xFFFF` = 유효 TID
- 역할:
  - 한 스트림 안에서 자주 참조되는 SIDX를 **짧게 압축**해서 쓰기 위한 핸들.

---

### 3.4 의미정렬 식별자 (Semantic ID)

- 정의:  
  Join이나 B-트리형 인덱스 없이, ID 자체에 의미 비트를 담아 **전수 검사 + SIMD 필터링**이 가능하도록 설계한 64-bit 식별자.  
- 특징:
  - MSB 1비트로 Static/Dynamic 영역 구분.
  - Category/Tier 비트로 파티션·우선순위 표현.
  - Index 56비트로 대량 노드를 직주소(O(1))로 매핑.  

---

### 3.5 Packet (패킷)

- 정의:  
  하나의 노드나 엣지를 표현하는 **워드 배열 단위 구조체**.  
- 특징:
  - 고정 길이 헤더 + 가변 길이 페이로드 구조.
  - GEUL 스트림 상에서 직렬화/역직렬화에 최적화.

---

## 4. 노드 타입 (Node Types)

### 4.1 Entity Node

- 정의:  
  사람, 장소, 조직, 물건, 추상 개념 등 **“대상”**을 나타내는 노드.  
- 속성:
  - SIDX로 식별.
  - 타입(EntityType: PERSON, ORG, PLACE, WORK 등) + 플래그/속성 비트 필드.

---

### 4.2 Context Node

- 정의:  
  “이 서술/사실이 **어떤 세계/시점/POV/모달리티**에서의 것인가?”를 나타내는 노드.  
- 예:
  - RealWorld vs FictionWorld
  - “MCU 2012년, 토니 시점, 기억” 같은 컨텍스트.
- 특징:
  - Context 자체는 **경량 노드**.
  - 상세 정보(world/time/pov/modality 등)는 **Property Triple**이나 별도 엣지로 서술.

---

### 4.3 Quantity / Physical Node (양/물리량 노드)

- 정의:  
  길이, 시간, 질량, 돈, 확률 등 **물리량/숫자 값**을 표현하는 노드.  
- 개념:
  - 부호(signed/unsigned)
  - 값 타입 (정수/부동소수점 등)
  - 단위(unit) ID
- 목적:
  - 월드 모델에서 **수치 상태(HP, 잔고, 온도 등)**를 정형화된 방식으로 다루기 위함.

---

### 4.4 Verb Node (동사 노드 + 한정사 비트)

- 정의:  
  “하다, 말하다, 공격하다” 같이 **행위/상태를 나타내는 동사**에 해당하는 노드.  
- 추가 속성:
  - 동사 한정사(시제, 상, 양태, 증거성, 공손 등)를 **비트 필드로 인코딩**하는 구조.
- 용도:
  - 소설, 대화, 발화 기록 등 **L3 서술**에서 자연어의 뉘앙스를 정확하게 옮길 때 활용.

---

### 4.5 Timeline Keyframe Node

- 정의:  
  World의 시간축 상에서 하나의 **앵커 시점**을 나타내는 특수 엔티티.  
- 예:
  - "2025-01-01T00:00:00+09:00"
  - "임진왜란 발발"
  - "MyNovel: Chapter 3 시작"
- 역할:
  - `valid_from / valid_until`, `effective_from / until` 등에서 참조하는 기준점.
  - World마다 **전용 FACT 테이블**에 모아둔다.  

---

## 5. 엣지 타입 (Edge Types)

### 5.1 Triple Edge

- 정의:  
  `(Context, Subject, Property, Object)` 구조의 **3항 관계 + 컨텍스트**.  
- 의미:
  - “Context C에서, S는 P라는 관계로 O와 연결된다.”
  - 예:
    - `RealWorld 2020`에서, `Alice` —[FRIEND]→ `Bob`.

---

### 5.2 Event6 Edge

- 정의:  
  6하 원칙(Who, What, Whom, When, Where, Why)을 한 번에 담는 **이벤트 표현 엣지**.  
- 구조:
  - Context TID
  - Presence 비트마스크
  - Who / What / Whom / When / Where / Why 각각 TID.
- 의미:
  - “2020년 NYC에서 Alice가 Bob에게 선물을 주었다” 같은 사건 서술.

---

### 5.3 Property Edge (Context/Node 속성)

- 정의:  
  Context, Entity 등 노드의 **속성을 Triple로 분리해서 표현**하는 구조.  
- 예:
  - `Ctx#10` —[HAS_WORLD]→ `MCU World`
  - `Ctx#10` —[HAS_TIME] → `Year 2012`
  - `Ctx#10` —[HAS_POV]  → `Tony Stark`
- 목적:
  - 노드는 가볍게 유지하고, 확장 가능한 속성들은 엣지로 추가.

---

## 6. World 테이블 구조 용어

### 6.1 TableRef

- 정의:  
  World 안에 존재하는 하나의 테이블에 대한 메타데이터.  
- 필드:
  - `table_id: uint64`
  - `world_id: uint64`
  - `kind: enum { FACT, RULE, BOOK }`
  - `name: string`
  - `canonical: bool`
  - `tags: [string]`
  - `schema_hint: string`

---

### 6.2 CoreTable

- World 안에서 **상태(State)를 표현하는 테이블**.  
- L1 World State Layer의 저장 단위.
- 한 World 안에 여러 FACT 테이블이 존재할 수 있다 (예: `core_model`, `character_model` 등).  

---

### 6.3 RuleTable

- World 안에서 **룰/규칙/법/정책**을 표현하는 테이블.  
- 법률, 계약, 게임 룰, 사규, 비즈니스 로직 등을 담는다.

---

### 6.4 BookTable / BookEntry / Book Meta Edge

- **BookTable**
  - 서술/로그/보고서를 담는 테이블.  
- **BookEntry**
  - BookTable 안의 한 레코드(문단/대화/콜로그 등).
- **Book Meta Edge**
  - BookEntry와 World 엔티티/이벤트를 잇는 메타데이터 엣지 (관련 인물·이벤트 링크 등).

---

## 7. Rule 관련 용어

### 7.1 Rule-as-Data

- 정의:  
  Rule(법칙/규칙)을 **코드가 아니라 그래프 데이터(Entity/Edge)로 표현**하는 발상.  
- 의미:
  - 룰은 GWMS 안에서 **쿼리 대상**이자 **버전 관리 대상**.
  - 출처, 버전, 적용 범위, 신뢰도 등을 모두 그래프로 표현.

---

### 7.2 Rule-as-Code / Rule Compiler

- 정의:  
  그래프 형태의 Rule 표현을 **실행 가능한 포맷(바이트코드/Go 함수 등)**으로 변환하는 단계.  
- 특징:
  - Rule이 추가/수정될 때마다 미리 컴파일해 둔다.
  - 런타임에는 **인터프리팅이 아니라 이미 컴파일된 코드**를 호출.  

---

### 7.3 Rule Node / Rule Version / CompiledRule

- Rule Node (개념):  
  - `id: SIDX`
  - `name: "살인죄 판단 규칙"`
  - `version: int`
  - `priority: int`
  - `status: DRAFT / ACTIVE / DEPRECATED`
  - `kind: EVALUATION / TRANSFORM / ALERT ...`
- CompiledRule (실행 단위):  
  - `RuleID: SIDX`
  - `Version: int`
  - `Bytecode: []byte`
  - `TriggerKey: TriggerKey` (Verb/Type 기반 인덱싱 키)
  - `Priority: int`
  - `AppliesTo: RuleScope` (World/Context 범위)

---

### 7.4 RuleScope / RuleStatus / RuleKind

- RuleScope:
  - 어떤 World, 어떤 Context, 어떤 기간에 적용되는지 나타내는 메타 구조.  
- RuleStatus:
  - `DRAFT`, `ACTIVE`, `DEPRECATED` 등의 상태 플래그.
- RuleKind:
  - `EVALUATION` (판정), `TRANSFORM` (상태 변환), `ALERT` (경보) 등 Rule의 역할 분류.

---

### 7.5 Rule Attention (Symbolic Attention)

- 정의:  
  L3 서술(현재 들어온 사건)을 **Query**, L2 룰의 트리거들을 **Key**, 룰의 실제 효과를 **Value**로 보고,  
  이들 사이의 적합도를 기반으로 **적용할 룰을 선택하는 메커니즘**.  
- 개념적 매핑:
  - Q = 서술(Event, Triple, BookEntry 등)
  - K = Rule의 트리거 패턴
  - V = Rule의 효과(Effect; 컴파일된 코드 등)
- 구현 방향:
  - 1차: GWMS의 CSR/비트마스크로 **하드 필터링** (가능성 없는 룰 제거)
  - 2차: SLT(Neural Scorer)로 **소프트 스코어** 계산 (유사도/적합도)
  - 최종: 스코어가 높은 룰들만 실행.  

---

## 8. SLT (Shallow Logic Transformer) 관련 용어

### 8.1 SLT 정의

- 정의:  
  글월/GEUL 기반 글DBMS/GWMS 내부에 탑재되는 **초경량 논리 신경망 모듈**.  
- 입력:
  - 쿼리 컨텍스트 (현재 씬/사용자 요구/GEUL 쿼리 등)
  - 리소스 (인물, 무기, 장소, 씬, 이벤트 등)  
- 출력:
  - 단 하나의 실수 값 `score ∈ [0.0, 1.0]`
- 역할 한 줄 요약:
  - `f(쿼리, 리소스) → [0.0, 1.0]` 적합도 점수만 낸다.  

---

### 8.2 전체 아키텍처에서의 위치

- 1. 심볼릭/GEUL + SIMD 쿼리 레이어  
  - 의미정렬 ID + SIMD 비트마스크 + N-hop 그래프 탐색.  
  - 카테고리/타입/상태/씬/동사 조건으로 하드 필터링.  
- 2. SLT 레이어
  - 입력: (쿼리, 리소스) 쌍
  - 출력: [0,1] 적합도 점수
  - 역할: 심볼릭 필터로 남은 후보들 사이에서 **“누가 지금 맥락에 더 잘 맞는지” 재정렬/선별**.  
- 3. 상위 LLM 레이어 (GPT 등)
  - 입력: SLT가 선별한 상위 K개 리소스 + 세계관/씬 컨텍스트
  - 출력: 서술, 대사, 묘사, 설명, 플롯 선택 등.  

정리하면: 심볼릭 쿼리는 “후보 자격”을, SLT는 “그 후보 중 누가 더 잘 맞는지”를, LLM은 “그 선택을 가지고 무엇을 쓸지(생성)”을 담당한다.  

---

### 8.3 쿼리 레벨에서의 사용

- SQL/쿼리 레벨에서 **스칼라 함수**처럼 사용:
  - `ORDER BY SFACT(query, resource) DESC LIMIT K`
  - 또는 `WHERE SFACT(query, resource) >= threshold` 형태.  

---

## 9. WRENDER & SCULPT (World–Narrative 변환 용어)

> GWMS **코어 바깥에 둘 수 있는 상위 계층 개념**으로 합의된 상태.  

### 9.1 WRENDER (World → Narrative)

- 정의:  
  World Model (FACT/RULE)을 기반으로,  
  “인간이 읽을 수 있는 서술/설명/리포트”를 생성하는 방향의 변환.
- 예:
  - World 상태를 읽어 “2025년 기준 이 회사의 재무 상태는 …”라는 보고서 생성.
  - 소설 World 상태를 바탕으로 챕터 요약/설명 문장 생성.

---

### 9.2 SCULPT (Narrative → World 후보)

- 정의:  
  BOOK(서술) 레이어를 읽고,  
  그 안에서 추출한 정보로 “World Model에 반영할 수 있는 **후보 변경안**”을 만드는 과정.  
- 특징:
  - 곧바로 L1에 써버리는 게 아니라  
    “이 서술을 반영하면 World가 이렇게 변합니다”라는 **Diff/Delta 후보**를 제시.
  - 실제 반영 여부는 **사람 또는 상위 정책/Rule**이 결정.

---

## 10. 기타 세계관 / 철학 관련 용어

### 10.1 Claim vs Fact

- **Claim (주장/서술)**:
  - BOOK 레이어에 저장되는 **문장, 보고, 발화**.
  - 완전히 신뢰할 수 없으며, 서로 충돌할 수 있음.
- **Fact (사실/canonical)**:
  - 여러 Claim + Rule + 모델링 과정을 통해 **World Model(L1)에 정제된 상태**.
  - “절대 진실”이라기보다, 그 시점에 계산된/합의된 상태로 취급.  

---

### 10.2 Canon vs Draft

- **Draft (초안)**:
  - 아직 World Model에 반영되지 않은 서술, 중간 단계.
  - SCULPT 전에 있는 상태의 BOOK 데이터.
- **Canon (정사)**:
  - L1 World Model에 반영된 결과.
  - 소설/게임에서는 작가가 인정한 공식 설정,
  - 기업/조직에서는 승인된 데이터/보고서.  

---

### 10.3 RealWorld vs FictionWorld

- **RealWorld**:
  - 현실 세계(지구, 역사, 실제 법/물리학)를 모델링한 World.
  - Wikidata/현실 뉴스 등으로 구축 가능.  
- **FictionWorld**:
  - 소설, 영화, 게임의 세계관 (MCU, LOTR, 자작 소설 등).
- Context/World 노드에서 이 둘을 구분해서 관리.

---

### 10.4 GEUL Core / Extension / Custom

- **GEUL Core**:
  - “위키데이터 + 워드넷 + 기본 세계 지식의 집합”에 해당하는, 공용/표준 의미 공간.  
- **GEUL Extension**:
  - 특정 기관/프로젝트/도메인을 위한 확장.  
  - Issuer ID를 통해 누가 정의했는지 추적 가능.  
- **Custom (World-local)**:
  - 특정 월드/작품/서비스 안에서만 의미 있는 타입/ID.  
  - “이 안에서만 안 부딪히면 된다” 수준의 규칙.  

---
