# [GEUL] 연구 일지: 2026-01-29

**Project Stream:** `GEUL`  
**Author:** 박준우(mail@parkjunwoo.com)

---

## 용어

1.  **Verb Edge:** 사건/행위를 표현하는 Edge 패킷. Tiny(2워드)/Short(3워드)/Full(5워드) 3단계 모드.
2.  **Entity SIDX:** 개체 노드의 의미정렬벡터형 식별자. Lane 분기로 구체/추상 구분.
3.  **Context Edge:** 세계관/출처/관점을 표현하는 Edge. Claim이 참인 가능 세계 지정.
4.  **Meta Node:** 스트림 메타데이터 표현 노드. 시작/종료/생성일시/버전 등.
5.  **Group Edge:** 복수 TID를 논리적으로 묶는 Edge. AND/OR/XOR/LIST/SET/RANGE/PAIR.
6.  **Lane:** Entity SIDX의 1비트 분기 필드. 0=구체개체, 1=추상개체.

---

## ☀️ 아침: 오늘의 목표 (Objectives)

1.  Verb Edge Tiny/Short/Full 3단계 모드 설계 **(완료)**
2.  개체 SIDX 가변 워드 구조 설계 **(완료)**
3.  Context Edge 명세서 작성 **(완료)**
4.  Meta Node / Group Edge 명세서 작성 **(완료)**
5.  SIDX Prefix 체계 확정 및 문서 업데이트 **(완료)**

---

## ⏱️ 진행 과정 및 발견 (Process & Findings)

### 1. Verb Edge 문법 설계 v0.1 (목표 1)

**Tiny/Short/Full 3단계 모드 체계 확립:**

| 모드 | 워드 | 구조 |
|------|------|------|
| Tiny | 2 | Prefix(5b) + Target×패턴(11b) + 동사(16b) |
| Short | 3 | Prefix(6b) + Type(1b) + 참여자패턴(9b) + Target×한정자패턴(16b) + 동사(16b) |
| Full | 5 | 완전 표현 |

**패턴 할당 최적화 토론:**
- 참여자 512패턴 + 한정자 3,640패턴으로 결정
- 한정자가 더 다양해야 하므로 역전 배치
- 예상 Tiny 커버율 ~90%, 평균 2.16워드

### 2. 개체 SIDX 문법 설계 v0.1 (목표 2)

**주요 변경사항:**
- Prefix 6비트 → 7비트로 변경
- Lane 재정의: 0=구체개체, 1=추상개체
- Lane을 Prefix 바로 다음으로 배치 (워드 경계 정렬)
- Number 3비트 → 2비트 간소화 (알수없음/단수/소수/다수)

**가변 워드 구조 도입:**

| 유형 | 조건 | 워드 수 |
|------|------|---------|
| 약식 | Lane=0, UIDflag=0 | 3 |
| 정식 | Lane=0, UIDflag=1 | 5 |
| 추상 | Lane=1 | 3 |

**설계 원칙:** TID가 항상 마지막 워드.

### 3. Context Edge 명세서 v0.1 (목표 3)

**개념 재정의:** 단순 출처(Source)에서 **세계관(Worldview)**으로 확장.
- "어느 세계관에서 이 Claim이 참인가" (Modal Logic 가능 세계)

**설계 토론 과정:**
1. Context Edge가 TID 목록 보유 vs 모든 Edge에 Context TID 포함 vs Node/Edge 분리
2. Triple PropCode 0 = context 채택 → 이후 철회
3. 최종: **Context Edge 단독**으로 통합

**6비트 Context Type 설계 (62개 타입):**

| 범위 | 분류 | 예시 |
|------|------|------|
| 0 | 미지정 | - |
| 1~20 | 출처 | 위키피디아, 뉴스, 논문 |
| 21~30 | 파생/추론 | 추론, 계산, 집계 |
| 31~45 | 세계관 | 현실, 가설, 대안역사 |
| 46~55 | 허구 | 소설, 영화, 게임 |
| 56~62 | 시점 | 과거, 현재, 미래 |
| 63 | 확장예약 | - |

### 4. Meta Node / Group Edge 명세서 (목표 4)

**Meta Node v0.1:**
- Prefix: `0 000 000` (Standard), `1100 000 000` (Proposal)
- Type 4비트 + Payload 2비트 구조

| Type | 의미 | Payload |
|------|------|---------|
| STREAM_START | 스트림 시작 | - |
| STREAM_END | 스트림 종료 | - |
| CREATED_AT | 생성 일시 | - |
| MODIFIED_AT | 수정 일시 | - |
| CREATOR | 생성자 | 00=미상, 01=EntityNode 4워드 |
| VERSION | 버전 | - |

**Group Edge v0.1:**
- Prefix: `0 000 111 000` (10비트), `1100 000 111 000` (13비트)

| GroupType | 의미 |
|-----------|------|
| AND | 논리곱 |
| OR | 논리합 |
| XOR | 배타적 논리합 |
| LIST | 순서 있는 목록 |
| SET | 순서 없는 집합 |
| RANGE | 범위 |
| PAIR | 쌍 |

확장 슬롯 1개 (111) 예약.

### 5. SIDX Prefix 체계 확정 (목표 5)

**10비트 Prefix 체계 최종 배치:**

| Prefix (Proposal) | 타입 |
|-------------------|------|
| `1100000 001` | Triple Edge |
| `1100000 010` | Clause Edge |
| `1100000 011` | Event6 Edge |
| `1100000 100` | Context Edge |
| `1100000 101` | Quantity Node |
| `1100000 110` | Faber Edge |
| `1100000 111 000` | Group Edge |
| `1100000 111 xxx` | 확장 영역 |

**인코딩 규칙 추가:** Big Endian (Network Byte Order) 확정.

### 6. 기존 문서 업데이트

| 문서 | 버전 변경 | 주요 내용 |
|------|-----------|-----------|
| SIDX.md | v0.4→v0.5→v0.7→v0.9 | 10비트 Prefix, Meta/Faber/Group 추가 |
| Clause_Edge.md | v0.2→v0.3 | 10비트 Prefix, 파싱/인코딩 코드 |
| Triple_Edge.md | v0.1→v0.3 | context 추가→제거, PropCode 0=P31 복귀 |
| Faber_Edge.md | v0.1→v0.2 | Prefix `0 000 000`→`0 000 110` |
| Quantity_Node.md | v0.2→v0.3 | 특수 리터럴 4종 추가 |

### 7. Quantity Node 특수 리터럴 추가

| 코드 | 타입 | 설명 |
|------|------|------|
| 0x30 | TIMESTAMP_SEC | 초 단위 타임스탬프 |
| 0x31 | TIMESTAMP_MS | 밀리초 단위 타임스탬프 |
| 0x32 | UTF16 | 문자열 (Length 32비트) |
| 0x33 | RGBA | 32비트 색상 |

### 8. Stream_Format.md 초안 작성

**스트림 구조:** STREAM_START ~ STREAM_END

**TID 할당 4원칙:**
1. **필수성:** 참조될 모든 노드/엣지에 TID 할당
2. **유일성:** 스트림 내 TID 중복 금지
3. **스코프:** TID는 해당 스트림 내에서만 유효
4. **순방향:** 참조 대상은 반드시 먼저 정의

**핵심 규칙:** 패킷 순서 규칙 준수, 순환 참조 금지.

---

## 🌙 저녁: 결론 및 다음 단계 (Conclusion & Next Steps)

### 금일 성과

1. **Verb Edge 3단계 압축 체계 완성**
   - Tiny 90% 커버, 평균 2.16워드
   - 참여자 512패턴 + 한정자 3,640패턴 최적화

2. **Entity SIDX 가변 워드 구조 확립**
   - Lane 분기로 구체/추상 구분
   - 3워드(약식/추상) / 5워드(정식) 체계

3. **Context Edge 개념 정립**
   - 출처 → 세계관으로 확장 (Modal Logic 가능 세계)
   - 62개 Context Type 분류

4. **SIDX 10비트 Prefix 체계 확정**
   - Meta Node, Group Edge 추가
   - Big Endian 인코딩 규칙 확정

5. **스트림 포맷 초안 완성**
   - TID 할당 4원칙 정립
   - 순방향 참조 규칙 확정

### 산출물

| 파일 | 버전 | 설명 |
|------|------|------|
| Verb_Edge.md | v0.1 | Tiny/Short/Full 구조 |
| Entity_SIDX.md | v0.1 | 가변 워드, Lane 분기 |
| Context_Edge.md | v0.1 | 세계관/출처/관점 표현 |
| Meta_Node.md | v0.1 | 스트림 메타데이터 |
| Group_Edge.md | v0.1 | 복수 TID 논리 묶음 |
| Stream_Format.md | v0.1 | 스트림 구조 및 규칙 |
| SIDX.md | v0.9 | Prefix 체계 통합 |
| verb559.json | - | flat 필드 제거 |

### 다음 단계 (Next Steps)

1. **Entity Node 명세서 완성:** 구체/추상 개체 세부 필드 정의
2. **Verb Edge Full 모드 상세화:** 참여자 19비트 확장 (+TMP, +EXT) 반영
3. **인코더/디코더 PoC 구현:** Stream_Format 기반 파서 프로토타입
4. **실제 문장 인코딩 테스트:** 한국어/영어 예문 GEUL 변환 검증
5. **압축률 벤치마크:** Tiny/Short/Full 분포 실측

---

## 💡 통찰 (Insights)

> "Context는 출처가 아니라 세계관이다."

단순히 "이 정보가 어디서 왔는가"를 넘어, "이 Claim이 어느 가능 세계에서 참인가"로 확장. Modal Logic의 가능 세계 의미론을 GEUL에 도입함으로써, 허구·가설·대안역사까지 동일한 프레임워크로 표현 가능해짐.

**또 하나의 퍼즐 조각이 맞춰졌다.** Verb Edge 압축, Entity SIDX 가변구조, Context 세계관, Stream Format까지. 이제 실제 문장을 넣어볼 차례.