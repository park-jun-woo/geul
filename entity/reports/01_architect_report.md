# Architect 보고서: GEUL Entity SIDX 설계 검토

**작성일**: 2026-02-01
**작성자**: Architect

---

## 1. 설계 목표 달성도

| 목표 | 상태 | 평가 |
|------|------|------|
| 타입별 완전 독립 스키마 | 달성 | 5개 타입 각각 고유한 48비트 레이아웃 |
| 계층적 해석 | 달성 | 부모→자식 코드북 정상 작동 |
| 우아한 열화 | **달성** | 100% 통과, 핵심 원칙 검증 완료 |
| SIMD 최적화 | 부분 | 마스크 생성 가능, 정밀도 개선 필요 |
| 기계적 할당 | 달성 | 코드북 기반 결정론적 인코딩 |

## 2. 아키텍처 결정 사항

### 2.1 48비트 레이아웃 (확정)

```
[0:15]   Attributes 하위 - 주요 분류 속성 (국가, 직업 등)
[16:31]  Attributes 중위 - 보조 속성 (연대, 장르 등)
[32:47]  Attributes 상위 - 예약 및 플래그
```

### 2.2 코드북 구조

- **독립 필드**: `parent_value = '_root'`
- **계층 필드**: `parent_value = 부모값` (예: 'Q5'=researcher)
- **Unknown**: `code = 0` 예약

### 2.3 트레이드오프 분석

| 선택 | 장점 | 단점 |
|------|------|------|
| 계층적 코드북 | 비트 효율 극대화 | 조회 복잡도 증가 |
| 스키마 기반 할당 | 일관성, 의미 명확 | 자동 최적화 어려움 |
| 16비트 예약 | 확장성 | 현재 활용률 낮음 |

## 3. 충돌률 분석

| 타입 | 충돌률 | 원인 분석 |
|------|--------|-----------|
| 조직 | 32.64% | country(8)+industry(8)+era(4) 조합 부족 |
| 인간 | 21.25% | occupation(6)+country(8) 비트 부족 |
| 항성 | 18.40% | magnitude 양자화 손실 |
| 정주지 | 9.68% | 양호 |
| 영화 | 9.61% | 양호 |

## 4. 권장 사항

### 즉시 적용 (v1.0)

1. **조직 타입**: industry 비트 8→10, era 4→6 확장
2. **인간 타입**: occupation 비트 6→8 확장, subclass 활용

### 중기 개선 (v1.1)

1. 스키마 자동 최적화 도구 개발
2. 충돌률 기반 비트 재분배 알고리즘

### 장기 과제 (v2.0)

1. 계층적 코드북 통합 조회 API
2. 동적 스키마 버전 관리

## 5. 결론

**핵심 설계 원칙(우아한 열화)이 검증됨**. 충돌률은 스키마 조정으로 개선 가능하며, 현재 구조로 실용적 운영이 가능함.

---

*Architect - GEUL Entity SIDX Team*
